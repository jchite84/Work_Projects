write.csv(x = filenames[i], sprintf("L:/Advancement/Justin/%s.csv", filenames[i]))
}
for (i in 1:20){
write.csv(x = sprintf("%s", filenames[i]), sprintf("L:/Advancement/Justin/%s.csv", filenames[i]))
}
View(Atlanta)
paste(filename[2])
paste(filenames[2])
for (i in 1:20){
write.csv(x = paste(as.name(filename[i])), sprintf("L:/Advancement/Justin/%s.csv", filenames[i]))
}
for (i in 1:20){
write.csv(x = paste(as.name(filenames[i])), sprintf("L:/Advancement/Justin/%s.csv", filenames[i]))
}
paste(as.name(filenames[2]))
for (i in 1:20){
write.csv(x = assign(filenames[i]), sprintf("L:/Advancement/Justin/%s.csv", filenames[i]))
}
for (i in 1:20){
write.csv(x = assign(filenames[i], paste(filenames[i])), sprintf("L:/Advancement/Justin/%s.csv", filenames[i]))
}
for (i in 1:length(filenames)){
assign(filenames[i], merge(prospects, zips1[i], by.x = "ZIP_CODE", by.y = filenames[i]))
}
Atlanta <- Atlanta [,c(2:19, 1, 20:91)]
Baltimore <- Baltimore [,c(2:19, 1, 20:91)]
Boston <- Boston [,c(2:19, 1, 20:91)]
Cleveland <- Cleveland [,c(2:19, 1, 20:91)]
DC <- DC [,c(2:19, 1, 20:91)]
Dallas <- Dallas [,c(2:19, 1, 20:91)]
Denver <- Denver [,c(2:19, 1, 20:91)]
Detroit <- Detroit [,c(2:19, 1, 20:91)]
Erie <- Erie [,c(2:19, 1, 20:91)]
Fairport <- Fairport [,c(2:19, 1, 20:91)]
Greenville_SC <- Greenville_SC [,c(2:19, 1, 20:91)]
Harrisburg <- Harrisburg [,c(2:19, 1, 20:91)]
Houston <- Houston [,c(2:19, 1, 20:91)]
Indianapolis <- Indianapolis [,c(2:19, 1, 20:91)]
Louisville <- Louisville [,c(2:19, 1, 20:91)]
Myrtle_Beach <- Myrtle_Beach [,c(2:19, 1, 20:91)]
NYC <- NYC [,c(2:19, 1, 20:91)]
Philadelphia <- Philadelphia [,c(2:19, 1, 20:91)]
Raleigh <- Raleigh [,c(2:19, 1, 20:91)]
Scottsdale <- Scottsdale [,c(2:19, 1, 20:91)]
for (y in 1:20){
write.csv(x = paste(filenames[y]), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
summary(filenames)
filenames1 <- as.names(filenames)
filenames1 <- as.name(filenames)
for (y in 1:20){
write.csv(x = paste(as.name(filename[y])), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
for (y in 1:20){
write.csv(x = paste(as.name(filenames[y])), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
for (x in 1:20){
sprintf("filename%d", x)<-as.name(filenames[x])
}
for (x in 1:20){
sprintf("filename %d", x)<-as.name(filenames[x])
}
for (x in 1:20){
assign(sprintf("filename%d", x), as.name(filenames[x]))
}
rm(filenames1)
for (y in 1:20){
write.csv (x = sprintf("filename%d", y), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
rm(filename1, filename2, filename3, filename4, filename5, filename6, filename7, filename8, filename9, filename10, filename11, filename12, filename13, filename14, filename15, filename16, filename17, filename18, filename19, filename20)
for (y in 1:20){
write.csv (x = sprintf("filename%d", y), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
for (x in 1:20){
assign(sprintf("filename %d", x), as.name(filenames[x]))
}
write.csv (x = filename sprintf("%d", y), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
for (y in 1:20){
write.csv (x = filename + sprintf("%d", y), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
rm(filename 1, filename 2, filename 3, filename 4, filename 5, filename 6, filename 7, filename 8, filename 9, filename 10, filename 11, filename 12, filename 13, filename 14, filename 15, filename 16, filename 17, filename 18, filename 19, filename 20)
rm("filename 1", "filename 2", "filename 3", "filename 4", "filename 5", "filename 6", "filename 7", "filename 8", "filename 9", "filename 10", "filename 11", "filename 12", "filename 13", "filename 14", "filename 15", "filename 16", "filename 17", "filename 18", "filename 19", "filename 20")
for (y in 1:20){
write.csv (x = get(filename[y]), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
for (y in 1:20){
write.csv (x = get(filenames[y]), sprintf("L:/Advancement/Justin/%s.csv", filenames[y]))
}
for (x in 1:20){
get(filenames[x]) <- paste0(get(filenames[x]),"[,c(2:19, 1, 20:91)]")
}
for (x in 1:20){
paste(get(filenames[x])) <- paste0(get(filenames[x]),"[,c(2:19, 1, 20:91)]")
}
deduped <- read.csv("C:/Users/110427052/Desktop/Deduped.csv")
head(deduped)
deduped$percentage.loss <- deduped[4]/deduped[3]
head(deduped)
mean(deduped[5])
summary(deduped)
stdev(deduped[5])
sd(deduped[5])
sd(deduped)
names(deduped)
sd(deduped$percentage.loss)
percentage.loss
View(deduped)
rm(deduped[5])
deduped<-deduped[,1:4]
percentage.loss <- as.data.frame(deduped[4]/deduped[3])
cbind(deduped, percentage.loss)
deduped <- cbind(deduped, percentage.loss)
sd(deduped[5])
View(deduped)
sd(as.matrix(deduped[5]))
sd(as.matrix(deduped[5])/sqrt(length(deduped))
sd(as.matrix(deduped[5]))/sqrt(length(deduped))
mean(deduped[5]) + 1.96 * sd(as.matrix(deduped[5]))/sqrt(length(deduped))
mean(deduped[5])
mean(as.matrix(deduped[5]))
mean(as.matrix(deduped[5])) + 1.96 * sd(as.matrix(deduped[5]))/sqrt(length(deduped))
length(deduped)
length(deduped[5])
length(deduped[,5])
mean(deduped[,5]) + 1.96 * sd(deduped[,5])/sqrt(length(deduped[,5]))
hist(deduped[,5])
hist(deduped[,5], breaks = .05)
hist(deduped[,5], breaks = 10)
hist(deduped[,5], breaks = 20)
hist(deduped[,5], breaks = 100)
hist(deduped[,5], breaks = 50)
plot(deduped[,3], deduped[,4])
library(ggplot2)
ggplot(deduped, aes(Raw.Number, Number.Mailed))+
geom_point()
ggplot(deduped, aes(Raw.Number, Number.Mailed))+
geom_point()+
stat_smooth(method = "lm")
pants <- read.csv("C:/Users/110427052/Desktop/Pants.csv")
plot(pants$Sex, pants$Numeric)
view(pants)
View(pants)
pants <- read.csv("C:/Users/110427052/Desktop/Pants.csv")
plot(pants$Sex, pants$Numeric)
summary(pants)
cor(pants)
View(pants)
by(pants[,1], pants[,3], summary)
library(pwr)
summary(deduped)
mean(deduped[,5]) - 1.96 * sd(deduped[,5])/sqrt(length(deduped[,5]))
colsums(deduped)
colsum(deduped)
colSums(deduped)
colSums(deduped$Number.Mailed)
sum(deduped$Number.Mailed)
sum(deduped[,2:5])
city.names <- c("Atlanta", "Baltimore", "Boston", "Chicago", "Cleveland", "Dallas",
"DC", "Denver", "Detroit", "Erie", "Fairport", "Greenville_SC",
"Harrisburg", "Houston", "Indianapolis", "Louisville", "Myrtle_Beach",
"NYC", "Philadelphia", "Pittsburgh", "Raleigh", "Scottsdale")
for (y in length(city.names)){
assign(city.names[i], read.csv(sprintf("L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/%s.csv"), city.names[i]))
}
rm(y)
for (i in length(city.names)){
assign(city.names[i], read.csv(sprintf("L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/%s.csv"), city.names[i]))
}
for (i in length(city.names)){
assign(city.names[i], read.csv(sprintf("L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/%s.csv", city.names[i])))
}
for (i in 1:22){
assign(city.names[i], read.csv(sprintf("L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/%s.csv", city.names[i])))
}
for (i in 1:22){
id <- cbind(get(city.names[i])[1])
}
View(id)
names <- as.name(city.names)
names
names <- as.data.from(as.name(city.names))
names <- as.data.frame(as.name(city.names))
names <- as.data.frame(city.names)
View(names)
id <- cbind(as.names(names)[1])
id <- cbind(as.name(names)[1])
View(names)
id <- cbind(Atlanta [1], Baltimore[1],Boston[1],Chicago[1],	Cleveland[1],
Dallas[1],DC[1],Denver[1],Detroit[1],Erie[1],	Fairport[1],
Greenville_SC[1],Harrisburg[1],	Houston[1],	Indianapolis[1],
Louisville[1],Myrtle_Beach[1],NYC[1],	Philadelphia[1],
Pittsburgh[1],Raleigh[1],Scottsdale[1])
id <- rbind(Atlanta [1], Baltimore[1],Boston[1],Chicago[1],	Cleveland[1],
Dallas[1],DC[1],Denver[1],Detroit[1],Erie[1],	Fairport[1],
Greenville_SC[1],Harrisburg[1],	Houston[1],	Indianapolis[1],
Louisville[1],Myrtle_Beach[1],NYC[1],	Philadelphia[1],
Pittsburgh[1],Raleigh[1],Scottsdale[1])
id <- rbind(Atlanta [1], Baltimore[1],Boston[1],	Cleveland[1],
Dallas[1],DC[1],Denver[1],Detroit[1],Erie[1],	Fairport[1],
Greenville_SC[1],Harrisburg[1],	Houston[1],	Indianapolis[1],
Louisville[1],Myrtle_Beach[1],NYC[1],	Philadelphia[1],
Pittsburgh[1],Raleigh[1],Scottsdale[1])
View(id)
prospects <- read.csv("C:/Users/110427052/Desktop/2015 August 28 Prospects.csv")
call.list <- merge(id, prospects)
View(call.list)
grep("CombinedSalutation", colnames(call.list))
grep("PRIMARYPHONE1", colnames(call.list))
grep("CallRules", colnames(call.list))
call.list <- call.list[,c(80, 60, 61, 22)]
View(call.list)
call.list <- merge(id, prospects)
call.list <- call.list[,c(85, 60, 61, 22)]
View(call.list)
call.list <- merge(id, prospects)
grep("City", colnames(call.list))
grep("CITY", colnames(call.list))
call.list <- call.list[,c(85, 17, 18, 19, 60, 61, 22)]
View(call.list)
library(zipcode)
call.list$ZIP_CODE <- clean.zipcodes(call.list$ZIP_CODE)
head(call.list)
write.csv(call.list, "L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/Call List.csv")
call.list.chicago <- merge(Chicago, prospects by.x = "Combined.Salutation", by.y = "CombinedSalutation")
names(Chicago)
call.list.chicago <- merge(Chicago, prospects, by.x = "Combined.Salutation", by.y = "CombinedSalutation")
names(call.list.chicago[,c(85, 17, 18, 19, 60, 61, 22)])
head <- as.data.frame(names(call.list.chicago))
View(head)
View(call.list)
call.list.chicago <- call.list.chicago[,c(1,5,6,7,67,68,29)]
View(call.list.chicago)
call.list.chicago <- merge(Chicago, prospects, by.x = "Combined.Salutation", by.y = "CombinedSalutation")
call.list.chicago <- call.list.chicago[,10)]
call.list.chicago <- call.list.chicago[,10]
call.list.chicago <- unique(call.list.chicago)
unique <- is.unique(call.list.chicago)
unique <- is.duplicate(call.list.chicago)
unique <- is.duplicated(call.list.chicago)
unique <- duplicated(call.list.chicago)
unique
write.csv(call.list.chicago, "L:/Advancement/Justin/Alumni/Blitz Event Mailings Lists/Chicago.csv")
write.csv(call.list.chicago, "L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/Chicago.csv")
write.csv(call.list.chicago, "L:/Advancement/Justin/Alumni/Blitz Event Mailing Lists/ChicagoNumbers.csv")
library(reshape2)
library(lubridate)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September All Visits Since July I.csv", header = TRUE)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July O.csv", header = TRUE)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July I.csv", header = TRUE)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
View(Range.Actions.Ind)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv")
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
View(Range.Actions.Ind)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
View(Range.Actions.Orgs)
View(Range.Actions.Ind)
View(Range.Actions.Ind)
View(Range.Actions.Orgs)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
View(Range.Actions.Orgs)
View(Range.Actions.Orgs)
View(Range.Actions.Ind)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
DN <- read.csv("L:/Advancement/Justin/General/Director's Numbers for R Script.csv")
Range.Actions <- merge(Range.Actions, DN)
Range.Actions$EXECUTION_DATE <- substring(Range.Actions$EXECUTION_DATE, 1, #16)
Range.Actions.Date <- strptime(x = as.character(Range.Actions$EXECUTION_DATE), format = "%m/%d/%Y %H:%M")
Range.Actions <- cbind(Range.Actions, paste(month(Range.Actions.Date), "/", year(Range.Actions.Date)))
View(Range.Actions)
View(Range.Actions)
Range.Actions$EXECUTION_DATE <- substring(Range.Actions$EXECUTION_DATE, 1, 16)
Range.Actions.Date <- strptime(x = as.character(Range.Actions$EXECUTION_DATE), format = "%m/%d/%Y %H:%M")
Range.Actions <- cbind(Range.Actions, paste(month(Range.Actions.Date), "/", year(Range.Actions.Date)))
colnames(Range.Actions)[16] <- "MONTH_YEAR"
rm(Range.Actions.Date)
View(Range.Actions)
Range.Actions <- subset(Range.Actions, ACTION_ID == "CAFC2FC")
Range.Summary <- dcast(Range.Actions, TITLE~MONTH_YEAR, value.var = "ACTION_ID", length, margins = TRUE)
View(Range.Summary)
names(Range.Summary)
which(names(Range.Summary))
names <- as.data.frame(names(Range.Summary))
View(names)
help(Sys.Date)
rm(Range.Actions, Range.Actions.Ind, Range.Actions.Orgs, Range.Summary, names)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
Range.Actions <- merge(Range.Actions, DN)
View(Range.Actions)
Range.Actions$EXECUTION_DATE <- as.Date(Range.Actions$EXECUTION_DATE)
View(Range.Actions)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
Range.Actions <- merge(Range.Actions, DN)
Range.Actions$EXECUTION_DATE1 <- as.Date(Range.Actions$EXECUTION_DATE, format = "%m/%d/%y")
View(Range.Actions)
ions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
rm(ions.Ind)
Range.Actions <- merge(Range.Actions, DN)
Range.Actions$EXECUTION_DATE <- as.Date(Range.Actions$EXECUTION_DATE, format = "%m/%d/%y")
View(Range.Actions)
tions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
rm(tions.Ind)
Range.Actions.Ind <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 I.csv", header = TRUE)
Range.Actions.Orgs <- read.csv("L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 O.csv", header = TRUE)
colnames(Range.Actions.Orgs)<- c("SOLICITOR_CODE", "PEOPLE_CODE_ID", "FIRST_NAME", "MIDDLE_NAME", "LAST_NAME", "CITY",
"STATE", "ACTION_ID", "SCHEDULED_DATE", "EXECUTION_DATE", "COMPLETED_BY", "PRIORITY", "NOTE")
Range.Actions <- rbind(Range.Actions.Ind, Range.Actions.Orgs)
View(Range.Actions.Ind)
View(Range.Actions.Orgs)
Range.Actions <- merge(Range.Actions, DN)
Range.Actions$EXECUTION_DATE <- substring(Range.Actions$EXECUTION_DATE, 1, 16)
Range.Actions.Date <- strptime(x = as.character(Range.Actions$EXECUTION_DATE), format = "%m/%d/%Y %H:%M")
Range.Actions <- cbind(Range.Actions, paste(month(Range.Actions.Date), "/", year(Range.Actions.Date)))
colnames(Range.Actions)[16] <- "MONTH_YEAR"
View(Range.Actions)
rm(Range.Actions.Date)
Range.Actions <- subset(Range.Actions, ACTION_ID == "CAFC2FC")
Range.Summary <- dcast(Range.Actions, TITLE~MONTH_YEAR, value.var = "ACTION_ID", length, margins = TRUE)
names <- as.data.frame(names(Range.Summary))
View(names)
Range.Summary <- Range.Summary[,c(1, 11,13,15,3:5,2,6:10,12,14,16)]
View(Range.Summary)
write.csv(Range.Summary, file = "L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 Summary.csv")
write.csv(Range.Actions, file = "L:/Advancement/Justin/General/August Reports/2015 September 18 All Visits Since July 2014 Detail.csv")
cap <- function(income, real){
wealth <- income/0.185
if (real < 75000){
realwealth <- real/.48
} else {
realwealth <- real/.42
}
IncomeBased <- wealth * .05
AssetBased <- realwealth * .05
capacity1 <- list(IncomeBased, AssetBased)
capacity2 <- as.numeric(capacity1)
meancap <- mean(capacity2)
returncap <- list(capacity2, meancap)
return(returncap)
}
cap(500000, 425000)
cap(500000, 2000000)
cap(500000, 60000000)
moves.all <- read.csv("L:/Advancement/Justin/General/September Reports/2015 October 21 Moves Management.csv")
moves.all$Solicitation.Code <- str_trim(moves.all$Solicitation.Code, side = "both")
moves.all$Solicitation.Code <- substr(moves.all$Solicitation.Code, 1, 5)
moves.all$Solicitation.Code <- str_to_upper(moves.all$Solicitation.Code)
moves.all$Solicitation.Code <- as.factor(moves.all$Solicitation.Code)
moves.all$Solicitation.Code <- factor(moves.all$Solicitation.Code, levels = c("DISCO", "CULTI", "READY", "SOLIC", "STEWA"))
library(ggplot2)
library(stringr)
library(gridExtra)
library(reshape2)
library(tidyr)
library(dplyr)
moves.all <- read.csv("L:/Advancement/Justin/General/September Reports/2015 October 21 Moves Management.csv")
moves.all$Solicitation.Code <- str_trim(moves.all$Solicitation.Code, side = "both")
moves.all$Solicitation.Code <- substr(moves.all$Solicitation.Code, 1, 5)
moves.all$Solicitation.Code <- str_to_upper(moves.all$Solicitation.Code)
moves.all$Solicitation.Code <- as.factor(moves.all$Solicitation.Code)
moves.all$Solicitation.Code <- factor(moves.all$Solicitation.Code, levels = c("DISCO", "CULTI", "READY", "SOLIC", "STEWA"))
moves.assigned <- subset(moves.all, Solicitor != "")
moves.chart <- dcast(moves.assigned, Solicitor~Solicitation.Code, margins = TRUE)
moves.grob <- tableGrob(moves.chart)
moves.plot <- ggplot(data = moves.assigned, aes(Solicitor))+
geom_histogram(aes(fill = moves.assigned$Solicitation.Code))
grid.arrange(moves.plot, moves.grob)
View(moves.chart)
View(moves.assigned)
moves.assigned <- subset(moves.all, Solicitor != ""& Solicitation.Code != "NA")
moves.chart <- dcast(moves.assigned, Solicitor~Solicitation.Code, margins = TRUE)
moves.grob <- tableGrob(moves.chart)
moves.plot <- ggplot(data = moves.assigned, aes(Solicitor))+
geom_histogram(aes(fill = moves.assigned$Solicitation.Code))
grid.arrange(moves.plot, moves.grob)
moves.unassigned <- subset(moves.all, Solicitation.Code != "NA")
ggplot(data= moves.unassigned, aes(Solicitor))+
geom_histogram(aes(fill = moves.unassiged$Solicitation.Code))
ggplot(data= moves.unassigned, aes(Solicitor))+
geom_histogram(aes(fill = moves.unassigned$Solicitation.Code))
zips <- read.csv ("C:/Users/110427052/Desktop/GIS Data Files/zip_codes_states population and ratio tab.csv")
prospects <- read.csv("C:/Users/110427052/Desktop/2015 November 4 Prospects.csv")
library(zipcode)
library(ggplot2)
prospects$Zip <- clean.zipcodes(prospects$Zip)
zips$zip_code <- clean.zipcodes(zips$zip_code)
prospects.zip <- prospects[,c(3, 14:19, 23, 28)]
prospects.zip <- merge(prospects.zip, zips, by.x = "Zip", by.y = "zip_code")
prospects.zip1 <- subset(prospects.zip, prospects.zip$Ratio != "#N/A")
prospects.zip1$Ratio1 <- as.numeric(as.character(prospects.zip1$Ratio))
prospects.zip1$Capacity <- substring(prospects.zip1$X5.Yr.Cap, 2)
prospects.zip1$Capacity <- as.numeric(sub(",", "", as.character(prospects.zip1$Capacity)))
prospects.zip1 <- prospects.zip1[complete.cases(prospects.zip1[,18]),]
qplot(prospects.zip1$Ratio1)
qplot(prospects.zip1$Capacity, binwidth = 2500, xlim = c(0, 100000))
qplot(prospects.zip1$Ratio1)
ggplot(data = prospects.zip1, aes(prospects.zip1$Ratio1, prospects.zip1$Capacity))+
geom_point()+
stat_smooth(method = "lm")
ggplot(data = prospects.zip1, aes(prospects.zip1$Ratio1, prospects.zip1$Capacity))+
geom_point()+
stat_smooth(method = "lm")+
ylim(0,150000)
ggplot(data = prospects.zip1, aes(prospects.zip1$Ratio1, prospects.zip1$Capacity))+
geom_point()+
stat_smooth(method = "lm")+
ylim(0,150000)+
geom_line(y = 25000)
model <- lm(prospects.zip1$Capacity ~ prospects.zip1$Ratio1)
res <- resid(model)
qplot(res, xlim = c(-60000, 100000))
qqnorm(res)
qqline(res)
summary(model)
summary(prospects.zip1$State)
qplot(prospects.zip1$State)
qplot(prospects.zip1$Zip)
qplot(prospects.zip1)
dev.off()
qplot(prospects.zip1$State)
ggplot(data = prospects.zip1, aes(prospects.zip1$State))+
geom_histogram()
ggplot(data = prospects.zip1, aes(x = prospects.zip1$State))+
geom_histogram()
ggplot(data = prospects.zip1, aes(prospects.zip1$State))+
geom_histogram(x = prospects.zip1$State)
table(prospects.zip1$State)
qplot(prospects.zip1$Ratio1)
qplot(prospects.zip1$Capacity, binwidth = 2500, xlim = c(0, 100000))
qplot(prospects.zip1$Ratio1)
ggplot(data = prospects.zip1, aes(prospects.zip1$Ratio1, prospects.zip1$Capacity))+
geom_point()+
stat_smooth(method = "lm")+
ylim(0,150000)+
geom_line(y = 25000)
library(reshape2)
library(plyr)
ddply(prospects.zip, .(State), summarise)
ddply(prospects.zip, .(prospects.zip$State), summarise)
ddply(prospects.zip, .(prospects.zip$ST), summarise)
table(prospects.zip$ST)
table(prospects.zip1$ST)
population.state <- as.data.frame(table(prospects.zip$ST)
population.state <- as.data.frame(table(prospects.zip$ST))
View(population.state)
sample.state <- as.data.frame(table(prospects.zip$ST))
compare.state <- merge(population.state, sample.state, by = "Var1")
View(compare.state)
sample.state <- as.data.frame(table(prospects.zip1$ST))
View(sample.state)
compare.state <- merge(population.state, sample.state, by = "Var1")
View(compare.state)
ggplot(population.state, aes(x = Var1))+
geom_bar()
qplot(population.state, x = Var1, y = Freq, geom = "bar")
qplot(population.state, x = population.state$Var1, y = population.state$Freq, geom = "bar")
qplot(population.state, x = population.state$Var1, geom = "bar")
ggplot(population.state, aes(x = "Var1", y = "Freq"))+
geom_bar()
ggplot(population.state, aes(x = Var1, y = Freq))+
geom_bar()
ggplot(prospects.zip, aes(x = ST))+
geom_bar()
ggplot(prospects.zip1, aes(x = ST))+
geom_bar()
for.mario <- subset(prospects, Cl.Yr>=1960 & Cl.Yr <= 1988)
columns <- as.data.frame(head(prospects))
View(columns)
columns <- as.data.frame(colnames(prospects))
View(columns)
for.mario <- for.mario [, c(3,5,10,21,22,62)]
View(for.mario)
for.mario <- subset(prospects, Cl.Yr>=1960 & Cl.Yr <= 1988)
for.mario <- for.mario [, c(3,5,8,10,21,22,62)]
View(for.mario)
for.mario <- subset(prospects, Cl.Yr>=1960 & Cl.Yr <= 1988)
for.mario <- for.mario [, c(3,5,85,86,8,10,21,22,62)]
View(for.mario)
for.mario <- subset(for.mario, Email.Address != "")
View(for.mario)
write.csv(for.mario, "L:/Advancement/Justin/Planned_Giving/2015 November 23 Mario Email.csv")
